<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ì°¨ëŸ‰ ë“±ë¡ ì •ë³´ ê²€ìƒ‰ ë° ëª©ë¡</title>
    <style>
        /* ê¸°ë³¸ ìŠ¤íƒ€ì¼ ë° ëª¨ë°”ì¼ ìµœì í™” */
        body {
            font-family: 'Arial', sans-serif;
            background-color: #f4f4f9;
            margin: 0;
            padding: 0;
            display: flex;
            flex-direction: column;
            align-items: center;
            padding-top: 20px;
        }

        .container {
            width: 90%;
            max-width: 600px;
            background-color: #ffffff;
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
            margin-bottom: 20px;
        }

        h2, h3 {
            color: #333;
            text-align: center;
            margin-top: 0;
        }

        .summary {
            text-align: center;
            margin-bottom: 20px;
            font-size: 1.2em;
            color: #007bff;
            font-weight: bold;
        }

        /* ê²€ìƒ‰ ì…ë ¥ì°½ ìŠ¤íƒ€ì¼ */
        #searchInput {
            width: calc(100% - 20px);
            padding: 12px;
            margin-bottom: 20px;
            font-size: 1.3em;
            border: 2px solid #007bff;
            border-radius: 5px;
            box-sizing: border-box;
            text-align: center;
        }

        /* ê²€ìƒ‰ ê²°ê³¼/ìƒì„¸ ì •ë³´/ë¯¸ë¦¬ë³´ê¸° ì˜ì—­ */
        #searchResult {
            padding: 15px;
            border: 1px solid #e0e0e0;
            border-radius: 5px;
            min-height: 50px;
            background-color: #f9f9f9;
            font-size: 1.1em;
            margin-bottom: 25px;
            position: relative;
        }

        .found { color: #28a745; font-weight: bold; margin-top: 10px; }
        .not-found { color: #dc3545; font-weight: bold; }
        .instruction { color: #6c757d; text-align: center; }
        
        /* ìƒì„¸ ì •ë³´ í…Œì´ë¸” ìŠ¤íƒ€ì¼ */
        .detail-table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 10px;
            font-size: 0.9em;
            margin-bottom: 20px;
        }

        .detail-table th, .detail-table td {
            border: 1px solid #ddd;
            padding: 8px;
            text-align: left;
        }

        .detail-table th {
            background-color: #e9ecef;
            width: 35%; 
            font-weight: bold;
        }

        /* ì‹¤ì‹œê°„ ë¯¸ë¦¬ë³´ê¸° ìŠ¤íƒ€ì¼ */
        .preview-list {
            list-style: none;
            padding: 0;
            margin: 10px 0 0 0;
            max-height: 300px; /* ë†’ì´ ì œí•œì„ ëŠ˜ë¦¬ê³  ìŠ¤í¬ë¡¤ ì¶”ê°€ */
            overflow-y: auto;
        }
        .preview-list li {
            padding: 8px 10px;
            border-bottom: 1px solid #eee;
            cursor: pointer;
            background-color: #fff;
            transition: background-color 0.1s;
        }
        .preview-list li:hover {
            background-color: #e6f2ff;
            font-weight: bold;
        }
        .preview-header {
            font-size: 0.9em;
            color: #007bff;
            margin-bottom: 5px;
            font-weight: bold;
        }

        /* ëª©ë¡ ì˜ì—­ ìŠ¤íƒ€ì¼ (ê¸°ì¡´ê³¼ ë™ì¼) */
        .list-section { border-top: 1px solid #e0e0e0; }
        #numberList { display: flex; flex-wrap: wrap; justify-content: space-around; list-style: none; padding: 0; margin: 10px 0; }
        #numberList li { width: 23%; text-align: center; padding: 8px 0; margin: 4px 0; background-color: #e9ecef; border-radius: 3px; font-size: 1em; cursor: pointer; transition: background-color 0.2s; }
        #numberList li:hover { background-color: #007bff; color: white; }
        #paginationControls { display: flex; justify-content: center; align-items: center; margin-top: 15px; }
        .page-button { background-color: #007bff; color: white; border: none; padding: 8px 15px; margin: 0 5px; border-radius: 5px; cursor: pointer; font-size: 1em; }
        .page-button:disabled { background-color: #adb5bd; cursor: not-allowed; }
        .page-number { font-size: 1.1em; font-weight: bold; margin: 0 10px; color: #333; }
    </style>
</head>
<body>

    <div class="container">
        <h2>ğŸ” ì°¨ëŸ‰ ë“±ë¡ ì •ë³´ ê²€ìƒ‰</h2>
        <div class="summary">
            ì°¨ëŸ‰ ë²ˆí˜¸ ë’·ìë¦¬ 4ìë¦¬ ê²€ìƒ‰
        </div>
        <p style="color: #6c757d; text-align: center;">4ìë¦¬ ì°¨ëŸ‰ ë²ˆí˜¸ë§Œ ì…ë ¥í•˜ê±°ë‚˜, ì•„ë˜ ëª©ë¡ì„ í´ë¦­í•˜ì„¸ìš”.</p>

        <input type="number" id="searchInput" placeholder="ì˜ˆ: 1914" maxlength="4" inputmode="numeric" oninput="handleInput()">

        <div id="searchResult" class="instruction">
            ë²ˆí˜¸ë¥¼ ì…ë ¥í•˜ì‹œë©´ ìƒì„¸ ì •ë³´ê°€ í‘œì‹œë©ë‹ˆë‹¤.
        </div>
    </div>

    <div class="container list-section">
        <h3>ğŸ“„ ì „ì²´ ë“±ë¡ ë²ˆí˜¸ ëª©ë¡ (í´ë¦­ ê°€ëŠ¥)</h3>
        <ul id="numberList">
            </ul>
        
        <div id="paginationControls">
            <button class="page-button" id="prevPage" disabled>ì´ì „</button>
            <span class="page-number" id="currentPageDisplay">1 / 4</span>
            <button class="page-button" id="nextPage">ë‹¤ìŒ</button>
        </div>
    </div>

    <script>
        // --- ë°ì´í„° ë° í™˜ê²½ ì„¤ì • (ì°¨ëŸ‰ìƒ‰ ì •ë³´ ì œê±°ë¨) ---
        
        const carData = [
            { department: "ìŠ¤í‚¤í•™êµ", name: "ê¹€í˜„ì°½ íŒ€ì¥", fullNumber: "14ë³´3974", number: "3974", carName: "ì•„ë°˜ë–¼", notes: "" },
            { department: "ìŠ¤í‚¤í•™êµ", name: "ì§€ì˜ì°¬ ì±…ì„", fullNumber: "48ë‘3227", number: "3227", carName: "ì˜¬ë€ë„", notes: "" },
            { department: "ìŠ¤í‚¤í•™êµ", name: "ìµœìƒ›ë³„ ì„ ì„", fullNumber: "53ê³ 4886", number: "4886", carName: "ìŠ¤íŒŒí¬", notes: "" },
            { department: "ìŠ¤í‚¤í•™êµ", name: "ê¹€ì •í˜„", fullNumber: "14ë…¸1969", number: "1969", carName: "ì˜ë Œí† ", notes: "ì‚¬ì„¤23ì‹œ í‡´ê·¼" },
            { department: "ìŠ¤í‚¤í•™êµ", name: "ìµœìš©ìš°", fullNumber: "08ê±°4024", number: "4024", carName: "ì¹´ë‹ˆë°œ", notes: "ì‚¬ì„¤" },
            { department: "ê¸°íš", name: "ì´ì¼í—Œ íŒ€ì¥", fullNumber: "2486", number: "2486", carName: "ì¹´ë‹ˆë°œ", notes: "" },
            { department: "ê¸°íš", name: "ê¹€ì„±í˜¸ ìˆ˜ì„", fullNumber: "146ê°€5852", number: "5852", carName: "ê·¸ëœì €", notes: "" },
            { department: "ë¡œë Œ", name: "ì‹¬ê²½ì„­", fullNumber: "01ë”0909", number: "0909", carName: "í…ŒìŠ¬ë¼", notes: "" },
            { department: "ë¡œë Œ", name: "ë¡œë Œ ì§ì›", fullNumber: "343ë‚˜2849", number: "2849", carName: "ì½”ë‚˜", notes: "" },
            { department: "ë¡œë Œ", name: "ë¡œë Œ ì§ì›", fullNumber: "170ê°€6719", number: "6719", carName: "ì…€í† ìŠ¤", notes: "" },
            { department: "ë¡œë Œ", name: "ë¡œë Œ ì§ì›", fullNumber: "51ê³ 1914", number: "1914", carName: "ì˜ë Œí† ", notes: "" },
            { department: "ë‹¨ì²´", name: "ê¹€ë¯¼ì„ ì„ ì„", fullNumber: "360ë¶€8336", number: "8336", carName: "ì œíƒ€", notes: "" },
            { department: "ë‹¨ì²´", name: "ì†¡í•˜ë¹ˆ", fullNumber: "109ëª¨3824", number: "3824", carName: "íˆ¬ì‹¼", notes: "" },
            { department: "ë‹¨ì²´", name: "ì†¡í˜„ë¯¼", fullNumber: "75ê°€9569", number: "9569", carName: "ì¹´ë‹ˆë°œ", notes: "ì¸ì†”" },
            { department: "2ì¸µì‹ë‹¹", name: "ì‚¬ì¥ë‹˜", fullNumber: "149í˜¸2208", number: "2208", carName: "ì•„ë°˜ë–¼", notes: "ì‹¤ì‚¬ìš© 2ëŒ€" },
            { department: "2ì¸µì‹ë‹¹", name: "ì§ì›", fullNumber: "69ë‘8493", number: "8493", carName: "ê³¨í”„", notes: "ì‹¤ì‚¬ìš© 2ëŒ€" },
            { department: "2ì¸µì‹ë‹¹", name: "ì§ì›", fullNumber: "84ë¶€4508", number: "4508", carName: "ìŠ¤íƒ€ë ‰ìŠ¤", notes: "ì‹¤ì‚¬ìš© 2ëŒ€" },
            { department: "ë Œíƒˆ", name: "ì„ì¸ì¹ ", fullNumber: "315ë¨¸8812", number: "8812", carName: "í ë¦¬ì„¸ì´ë“œ", notes: "" },
            { department: "ìŠ¤í‚¤ ê´€ë¦¬íŒ€", name: "í•œìƒìˆ˜ ìˆ˜ì„", fullNumber: "50ë¼6834", number: "6834", carName: "ëª¨ë‹", notes: "íŒ€ì¥" },
            { department: "ìŠ¤í‚¤ ê´€ë¦¬íŒ€", name: "ì¥ë™ë¦° ìˆ˜ì„", fullNumber: "25ì„œ2851", number: "2851", carName: "í¬ë“œ", notes: "ê´€ë¦¬" },
            { department: "ìŠ¤í‚¤ ê´€ë¦¬íŒ€", name: "ê¹€ì˜ëŒ€ ìˆ˜ì„", fullNumber: "09ë‚˜5334", number: "5334", carName: "ê·¸ëœì €", notes: "ë¦¬í”„íŠ¸" },
            { department: "ìŠ¤í‚¤ ê´€ë¦¬íŒ€", name: "ê¶Œìš©êµ¬ ì±…ì„", fullNumber: "23ê±°4834", number: "4834", carName: "ì‚°íƒ€í˜", notes: "ë¦¬í”„íŠ¸" },
            { department: "ìŠ¤í‚¤ ê´€ë¦¬íŒ€", name: "ê¶Œìš©êµ¬ ì±…ì„", fullNumber: "55ë”5979", number: "5979", carName: "ëª¨ë‹", notes: "ë¦¬í”„íŠ¸" },
            { department: "ìŠ¤í‚¤ ê´€ë¦¬íŒ€", name: "ë²”ì§„ ì±…ì„", fullNumber: "232ê±°8089", number: "8089", carName: "ì½”ë‚˜", notes: "" },
            { department: "ìŠ¤í‚¤ ê´€ë¦¬íŒ€", name: "ë³€ì¬í›ˆ ì„ ì„", fullNumber: "245ì†Œ6622", number: "6622", carName: "K7", notes: "" },
            { department: "ìŠ¤í‚¤ ê´€ë¦¬íŒ€", name: "ê¹€ì§„í•œ ì±…ì„", fullNumber: "342ì–´7981", number: "7981", carName: "ê·¸ëœì €", notes: "íŒ¨íŠ¸ë¡¤" },
            { department: "ìŠ¤í‚¤ ê´€ë¦¬íŒ€", name: "ìµœë¯¼ê¸° ì„ ì„", fullNumber: "83ì„œ4635", number: "4635", carName: "ë ‰ìŠ¤í„´", notes: "" },
            { department: "ìŠ¤í‚¤ ê´€ë¦¬íŒ€", name: "ìœ¤ìš°ì†” ì„ ì„", fullNumber: "245ì €1916", number: "1916", carName: "ì…€í† ìŠ¤", notes: "" },
            { department: "ìŠ¤í‚¤ ê´€ë¦¬íŒ€", name: "ê¹€ìƒí›ˆ ìˆ˜ì„", fullNumber: "41ë„6458", number: "6458", carName: "ë ˆì´", notes: "ì œì„¤" },
            { department: "ìŠ¤í‚¤ ê´€ë¦¬íŒ€", name: "ì¥ëŒ€ì„  ìˆ˜ì„", fullNumber: "12ë…¸9977", number: "9977", carName: "í­ìŠ¤ë°”ê²", notes: "" },
            { department: "ìŠ¤í‚¤ ê´€ë¦¬íŒ€", name: "ê¹€ì›ê¸° ì±…ì„", fullNumber: "25ë¬´1965", number: "1965", carName: "ìŠ¤ë°”ë£¨", notes: "" },
            { department: "ìŠ¤í‚¤ ê´€ë¦¬íŒ€", name: "ê¹€ì›ê¸° ì±…ì„", fullNumber: "60ë¨¸8410", number: "8410", carName: "ëª¨ë‹", notes: "" },
            { department: "ìŠ¤í‚¤ ê´€ë¦¬íŒ€", name: "ë°•íš¨íƒœ ì±…ì„", fullNumber: "34ëˆ„8065", number: "8065", carName: "ë²¤ì¸ ", notes: "" },
            { department: "ìŠ¤í‚¤ ê´€ë¦¬íŒ€", name: "ë°•íš¨íƒœ ì±…ì„", fullNumber: "189ë¼3884", number: "3884", carName: "ì˜ë Œí† ", notes: "" },
            { department: "ìŠ¤í‚¤ ê´€ë¦¬íŒ€", name: "ì „ì¬í™ ì±…ì„", fullNumber: "36ì„œ6772", number: "6772", carName: "ì¹´ë‹ˆë°œ", notes: "" },
            { department: "ìŠ¤í‚¤ ê´€ë¦¬íŒ€", name: "ë°°í˜„ì¤€ ì±…ì„", fullNumber: "92ë¨¸2782", number: "2782", carName: "í¬í„°", notes: "" },
            { department: "ê²½ì˜ì§€ì›íŒ€", name: "ë°•ì„ ê·œ ë¶€ë¬¸ì¥", fullNumber: "8768", number: "8768", carName: "ë ‰ìŠ¤í„´", notes: "" },
            { department: "ê²½ì˜ì§€ì›íŒ€", name: "ì•ˆì›ê°‘ ì±…ì„", fullNumber: "6200", number: "6200", carName: "ì˜ë Œí† ", notes: "" },
            { department: "ê²½ì˜ì§€ì›íŒ€", name: "ì‹ ë³´ë°°", fullNumber: "367ë„4728", number: "4728", carName: "", notes: "" },
            { department: "ì‹œì„¤íŒ€", name: "ì„ìˆ˜íƒ ìˆ˜ì„", fullNumber: "242ì–´1541", number: "1541", carName: "ê·¸ëœì €", notes: "" },
            { department: "ì‹œì„¤íŒ€", name: "ê¹€ìš©ë°± ìˆ˜ì„", fullNumber: "321ëŸ¬7699", number: "7699", carName: "", notes: "" },
            { department: "ì‹œì„¤íŒ€", name: "ê¸¸ì¢…ë“ ì±…ì„", fullNumber: "63ê³ 0242", number: "0242", carName: "ì•„ë² ì˜¤", notes: "" },
            { department: "ì‹œì„¤íŒ€", name: "ê¹€ëŒ€ì§„ ì±…ì„", fullNumber: "67ê°€5062", number: "5062", carName: "sm3", notes: "" },
            { department: "ì‹œì„¤íŒ€", name: "ê³½ì˜ë¯¼ì„ ì„", fullNumber: "123ë‘4824", number: "4824", carName: "xm3", notes: "" },
            { department: "ì‹œì„¤íŒ€", name: "ë°•ìƒí˜„ ì„ ì„", fullNumber: "02ë¨¸7578", number: "7578", carName: "í‹°ë³¼ë¦¬", notes: "" },
            { department: "ì‹œì„¤íŒ€", name: "ë°•ìƒí˜„ ì„ ì„", fullNumber: "106ë²„3568", number: "3568", carName: "ë‹ˆë¡œ", notes: "" },
            { department: "ì‹œì„¤íŒ€", name: "ì´ì¥í˜¸ì„ ì„", fullNumber: "308ì„œ5054", number: "5054", carName: "ì•„ë°˜ë–¼", notes: "" },
            { department: "ì‹œì„¤íŒ€", name: "ìµœì„±ëª¨ ì±…ì„", fullNumber: "54ë¶€3223", number: "3223", carName: "", notes: "" },
            { department: "ì§ì›ì‹ë‹¹", name: "ì–‘ì„±ê¶Œ", fullNumber: "187ê³ 9798", number: "9798", carName: "", notes: "" },
            { department: "ì§ì›ì‹ë‹¹", name: "ë°•ê¸°í˜„", fullNumber: "30ë¶€3573", number: "3573", carName: "", notes: "" },
            { department: "ì§ì›ì‹ë‹¹", name: "ë°•ê¸°í˜„", fullNumber: "229í˜¸6146", number: "6146", carName: "", notes: "" },
            { department: "ë Œíƒˆìƒµ", name: "ìµœê²½ì„­ì‹¤ì¥", fullNumber: "13ëˆ„7565", number: "7565", carName: "ë²¤ì¸ ", notes: "" },
            { department: "ë Œíƒˆ", name: "ì†ë¬¸ë°°", fullNumber: "6247", number: "6247", carName: "ì•„ë°˜ë–¼", notes: "" },
            { department: "ë¦¬í”„íŠ¸", name: "ë°•ì¤€í˜", fullNumber: "308ë”3642", number: "3642", carName: "ì•„ë°˜ë–¼", notes: "" },
            { department: "ì‹ìŒë£ŒíŒ€", name: "ì—„ë¶„ë‚œ", fullNumber: "31ëª¨5729", number: "5729", carName: "", notes: "" },
            { department: "ì‹ìŒë£ŒíŒ€", name: "ì‹ ë™ì›", fullNumber: "12ë¬´9274", number: "9274", carName: "", notes: "" },
            { department: "ì‹ìŒë£ŒíŒ€", name: "ì‹œì„¤íŒ€", fullNumber: "6157", number: "6157", carName: "ìŠ¤íƒ€ë ‰ìŠ¤", notes: "" },
            { department: "ì‹ë‹¹", name: "", fullNumber: "32ëŸ¬9462", number: "9462", carName: "ìŠ¤íŒŒí¬", notes: "" },
            { department: "ì‹ë‹¹", name: "", fullNumber: "12ë¶€9274", number: "9274", carName: "ë ˆì´", notes: "" },
            { department: "ì‹ë‹¹", name: "", fullNumber: "269ë„2278", number: "2278", carName: "", notes: "" },
            { department: "ì‹ë‹¹", name: "", fullNumber: "296ë³´1987", number: "1987", carName: "", notes: "" },
            { department: "ì‹ë‹¹", name: "ì´ìˆœì˜¥", fullNumber: "259ë„2278", number: "2278", carName: "íˆ¬ì‹¼", notes: "" }
        ];

        // --- ì´ˆê¸°í™” ë° ìœ í‹¸ë¦¬í‹° í•¨ìˆ˜ ---
        const uniqueNumbers = Array.from(new Set(carData.map(d => d.number))).sort();
        const carMapMulti = new Map();
        carData.forEach(car => {
            if (!car.number) return; 
            if (!carMapMulti.has(car.number)) {
                carMapMulti.set(car.number, []);
            }
            carMapMulti.get(car.number).push(car);
        });

        const itemsPerPage = 16; 
        let currentPage = 1;
        const totalPages = Math.ceil(uniqueNumbers.length / itemsPerPage);

        const numberList = document.getElementById('numberList');
        const prevPageButton = document.getElementById('prevPage');
        const nextPageButton = document.getElementById('nextPage');
        const currentPageDisplay = document.getElementById('currentPageDisplay');
        const searchInput = document.getElementById('searchInput');
        const searchResultDiv = document.getElementById('searchResult');


        // 1. ìƒì„¸ ì •ë³´ í‘œì‹œ HTML ìƒì„± í•¨ìˆ˜ (ì°¨ëŸ‰ìƒ‰ ì •ë³´ ì œê±°ë¨)
        function createDetailTable(car, index) {
            const header = carMapMulti.get(car.number).length > 1 
                ? `<p class="found">âœ… ì¼ì¹˜ ì°¨ëŸ‰ ì •ë³´ ${index} / ${carMapMulti.get(car.number).length} (ì°¨ëŸ‰ë²ˆí˜¸: ${car.fullNumber})</p>`
                : `<p class="found">âœ… ë“±ë¡ëœ ì°¨ëŸ‰ì…ë‹ˆë‹¤! (ì°¨ëŸ‰ë²ˆí˜¸: ${car.fullNumber})</p>`;
            
            // ì°¨ëŸ‰ëª…ì´ ë¹„ì–´ìˆëŠ” ê²½ìš° 'ì—†ìŒ'ìœ¼ë¡œ í‘œì‹œ
            const displayCarName = (car.carName && car.carName.toUpperCase() !== 'SUV') ? car.carName : 'ì •ë³´ ì—†ìŒ';
            
            return `
                ${header}
                <table class="detail-table">
                    <tr><th>ë¶€ì„œ</th><td>${car.department || 'ì •ë³´ ì—†ìŒ'}</td></tr>
                    <tr><th>ì„±í•¨</th><td>${car.name || 'ì •ë³´ ì—†ìŒ'}</td></tr>
                    <tr><th>ì°¨ëŸ‰ëª…</th><td>${displayCarName}</td></tr>
                    <tr><th>ë¹„ê³ </th><td>${car.notes || 'ì—†ìŒ'}</td></tr>
                </table>
            `;
        }


        // 2. ìµœì¢… ê²€ìƒ‰ ì‹¤í–‰ í•¨ìˆ˜
        function displayCarDetails(paddedVal) {
            const foundCars = carMapMulti.get(paddedVal);

            if (foundCars && foundCars.length > 0) {
                searchResultDiv.innerHTML = '';
                
                if (foundCars.length > 1) {
                    searchResultDiv.innerHTML += `<p class="found" style="margin-bottom: 5px;">âš ï¸ **ë™ì¼ ë²ˆí˜¸ (${paddedVal}) ë°œê²¬!** ì´ ${foundCars.length}ê±´ì˜ ì •ë³´ê°€ ìˆìŠµë‹ˆë‹¤.</p>`;
                }

                foundCars.forEach((car, index) => {
                    searchResultDiv.innerHTML += createDetailTable(car, index + 1);
                });
                
                searchResultDiv.className = ''; 
            } else {
                searchResultDiv.innerHTML = `<p class="not-found">âŒ [${paddedVal}] ëª©ë¡ì— ì—†ëŠ” ì°¨ëŸ‰ì…ë‹ˆë‹¤.</p>`;
                searchResultDiv.className = 'instruction';
            }
        }

        // 3. ì‹¤ì‹œê°„ ë¯¸ë¦¬ë³´ê¸° í‘œì‹œ í•¨ìˆ˜ (ê°œìˆ˜ ì œí•œ ì—†ìŒ)
        function displayPreview(inputVal) {
            // ì…ë ¥ê°’ìœ¼ë¡œ ì‹œì‘í•˜ëŠ” ëª¨ë“  ê³ ìœ  ì°¨ëŸ‰ ë²ˆí˜¸ë¥¼ ì°¾ìŠµë‹ˆë‹¤.
            const matchingNumbers = uniqueNumbers.filter(num => num.startsWith(inputVal));
            
            if (matchingNumbers.length > 0) {
                let html = `<div class="preview-header">âœ¨ **ë¯¸ë¦¬ ë³´ê¸°:** ${inputVal}ë¡œ ì‹œì‘í•˜ëŠ” ì°¨ëŸ‰ë²ˆí˜¸ (${matchingNumbers.length}ê°œ)</div>`;
                html += '<ul class="preview-list">';
                
                matchingNumbers.forEach(num => {
                    // í´ë¦­ ì‹œ í•´ë‹¹ ë²ˆí˜¸ë¡œ ê²€ìƒ‰ ì‹¤í–‰í•˜ë„ë¡ ì„¤ì •
                    html += `<li onclick="executeSearch('${num}')">${num}</li>`;
                });
                html += '</ul>';
                
                searchResultDiv.innerHTML = html;
                searchResultDiv.className = '';
            } else {
                searchResultDiv.innerHTML = `<p class="not-found">ì…ë ¥í•œ ${inputVal}ë¡œ ì‹œì‘í•˜ëŠ” ë²ˆí˜¸ê°€ ì—†ìŠµë‹ˆë‹¤.</p>`;
                searchResultDiv.className = 'instruction';
            }
        }
        
        // 4. ê²€ìƒ‰ ì…ë ¥ í•¸ë“¤ëŸ¬ (ë¯¸ë¦¬ë³´ê¸°/ìµœì¢… ê²€ìƒ‰ ë¶„ê¸°)
        function handleInput() {
            let inputVal = searchInput.value.trim();

            if (inputVal.length > 4) {
                searchInput.value = inputVal.slice(0, 4);
                inputVal = searchInput.value;
            }

            if (inputVal === "") {
                searchResultDiv.innerHTML = '<div class="instruction">ë²ˆí˜¸ë¥¼ ì…ë ¥í•˜ì‹œë©´ ìƒì„¸ ì •ë³´ê°€ í‘œì‹œë©ë‹ˆë‹¤.</div>';
                searchResultDiv.className = '';
                return;
            }
            
            // ì…ë ¥ ê¸¸ì´ê°€ 4ìë¦¬ ë¯¸ë§Œì´ë©´ ë¯¸ë¦¬ë³´ê¸° ì‹¤í–‰
            if (inputVal.length < 4) {
                displayPreview(inputVal);
            } else {
                // 4ìë¦¬ ì™„ë£Œë˜ë©´ ìµœì¢… ê²€ìƒ‰ ì‹¤í–‰
                const paddedVal = inputVal.padStart(4, '0');
                displayCarDetails(paddedVal);
            }
        }

        // 5. ë¯¸ë¦¬ë³´ê¸° í´ë¦­ ì‹œ ê²€ìƒ‰ ì‹¤í–‰ì„ ìœ„í•œ ê¸€ë¡œë²Œ í•¨ìˆ˜
        window.executeSearch = function(number) {
            searchInput.value = number;
            displayCarDetails(number);
        }

        // 6. ëª©ë¡ í´ë¦­ ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬ (ê¸°ì¡´ê³¼ ë™ì¼)
        function handleListClick(event) {
            if (event.target.tagName === 'LI') {
                const number = event.target.textContent.trim();
                window.executeSearch(number); // ì¬ì‚¬ìš©
            }
        }

        // 7. í˜ì´ì§€ë„¤ì´ì…˜ (ê¸°ì¡´ê³¼ ë™ì¼)
        function renderList(page) {
            currentPage = page;
            numberList.innerHTML = ''; 

            const start = (currentPage - 1) * itemsPerPage;
            const end = start + itemsPerPage;
            const pageNumbers = uniqueNumbers.slice(start, end);

            pageNumbers.forEach(number => {
                const li = document.createElement('li');
                li.textContent = number;
                li.addEventListener('click', handleListClick); 
                numberList.appendChild(li);
            });

            updatePaginationControls();
        }

        function updatePaginationControls() {
            prevPageButton.disabled = currentPage === 1;
            nextPageButton.disabled = currentPage === totalPages;
            currentPageDisplay.textContent = `${currentPage} / ${totalPages}`;
        }

        prevPageButton.addEventListener('click', () => {
            if (currentPage > 1) {
                renderList(currentPage - 1);
            }
        });

        nextPageButton.addEventListener('click', () => {
            if (currentPage < totalPages) {
                renderList(currentPage + 1);
            }
        });

        // ì›¹í˜ì´ì§€ ë¡œë“œ ì‹œ ì´ˆê¸° ëª©ë¡ ë Œë”ë§
        document.addEventListener('DOMContentLoaded', () => {
            renderList(1);
        });

    </script>

</body>
</html>